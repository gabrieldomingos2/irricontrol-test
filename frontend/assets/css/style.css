/* ================== */
/* üåå BASE DO SISTEMA */
/* ================== */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: sans-serif;
}

#map {
  height: 100%;
  width: 100%;
  z-index: 0;
}

/* ============================= */
/* ‚ú® BOT√ïES ESTILO VIDRO (GLASS) */
/* ============================= */
.glass-button {
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Cor base e transi√ß√£o com sombra */
  color: rgba(255, 255, 255, 0.7); /* text-white/70 */
  transition: all 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
  box-shadow: none;
}

.glass-button:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  /* Cor azul (sky-300) e sombra no hover */
  color: #7DD3FC;
  box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
}

.glass-button.hidden {
  display: none;
}

.glass-button-active {
  background-color: rgba(96, 165, 250, 0.15);
  border-color: rgba(96, 165, 250, 0.5);
  /* Cor azul quando ativo */
  color: #7DD3FC;
  box-shadow: 0 0 8px rgba(96, 165, 250, 0.4); /* Sombra azul opcional */
}

/* ========================= */
/* Bot√£o Repetidora          */
/* ========================= */

#confirmar-repetidora {
  /* Usa as classes Tailwind, mas garantimos a cor aqui se necess√°rio */
  /* Se voc√™ usar as classes hover:text-sky-300, esta parte pode n√£o ser necess√°ria, */
  /* mas garante o comportamento se as classes forem removidas */
  color: rgba(255, 255, 255, 0.7);
  transition: all 0.3s ease, color 0.3s ease;
}

#confirmar-repetidora:hover {
  /* Define a cor azul no hover (sky-300) */
  color: #7DD3FC;
}


/* ========================= */
/* üß† √çCONES                */
/* ========================= */

/* √çcones com M√°scara e currentColor (Serve para Sidebar e Topbar) */
.sidebar-icon {
  display: inline-block;
  background-color: currentColor; /* Pega a cor do texto pai! */
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  transition: background-color 0.3s ease; /* Transi√ß√£o suave da cor */
}

/* ==================== */
/* üí¨ MENSAGENS */
/* ==================== */
#mensagem {
  transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
  opacity: 1;
  transform: translateY(0);
}

#mensagem.hidden {
  opacity: 0;
  transform: translateY(20px);
  pointer-events: none;
}

/* ================ */
/* ‚ö° GLOW */
/* ================ */
@keyframes pulseGlow {
  0% { filter: drop-shadow(0 0 4px rgba(255, 0, 0, 0.7)); }
  50% { filter: drop-shadow(0 0 14px rgba(255, 0, 0, 1)); }
  100% { filter: drop-shadow(0 0 4px rgba(255, 0, 0, 0.7)); }
}

/* ===================== */
/* üü¢ C√çRCULOS */
/* ===================== */
.leaflet-interactive.circulo-verde {
  stroke: #34c759;
  stroke-width: 1;
  fill-opacity: 0.5;
  fill-color: #34c759;
}

/* ========================== */
/* üè∑Ô∏è LABEL FIXA DOS PIV√îS */
/* ========================== */
.label-pivo {
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  color: white;
  font-weight: bold;
  font-size: 12px;
  text-align: center;
  white-space: nowrap;
  pointer-events: none;
  text-shadow:
    0 0 6px rgba(0, 0, 0, 1),
    0 0 10px rgba(0, 0, 0, 0.9),
    1px 1px 2px rgba(0, 0, 0, 0.8);
}

/* ======================= */
/* üìç POPUPS */
/* ======================= */
.popup-glass {
  backdrop-filter: blur(8px);
  background: rgba(0, 0, 0, 0.6);
  padding: 8px 12px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.8rem;
  color: #FFF;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.leaflet-popup-content-wrapper {
  background: transparent;
  box-shadow: none;
  border-radius: 0;
  padding: 0;
}

.leaflet-popup-tip-container {
  display: none;
}

/* ======================= */
/* üóÇÔ∏è PAIN√âIS */
/* ======================= */
#painel-dados,
#painel-repetidoras {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

#painel-dados.hidden,
#painel-repetidoras.hidden {
  opacity: 0;
  transform: translateX(20px);
  pointer-events: none;
}

/* ========================= */
/* üõ∞Ô∏è LINHAS DIAGN√ìSTICO */
/* ========================= */
.linha-pontilhada {
  stroke-dasharray: 8 8;
  stroke-dashoffset: 1000;
  animation: growLine 0.8s ease-out forwards;
}

@keyframes growLine {
  to {
    stroke-dashoffset: 0;
  }
}


/* ========================= */
/* ‚ö†Ô∏è LABEL DE BLOQUEIO */
/* ========================= */
.label-bloqueio {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
}

.label-bloqueio i svg {
  width: 20px;
  height: 20px;
  stroke: black !important;
  fill: none !important;
  stroke-width: 2.5;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.7));
}

/* ======================= */
/* üìÇ INPUT FILE ESCONDIDO */
/* ======================= */
input[type="file"].hidden {
  display: none;
}

/* ========================= */
/* üéöÔ∏è SLIDER */
/* ========================= */
.range-slider-custom {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 5px;
  background: #4A5568;
  border-radius: 9999px;
  outline: none;
  opacity: 0.85;
  transition: opacity 0.2s;
}

.range-slider-custom:hover {
  opacity: 1;
}

.range-slider-custom::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  background-color: #3B82F6; /* Azul um pouco diferente, mas pode mudar para #7DD3FC */
  border-radius: 9999px;
  cursor: pointer;
  border: none;
  margin-top: 0px;
  box-shadow: 0 0 6px rgba(59, 130, 246, 0.7);
  transition: transform 0.2s;
}


.range-slider-custom:active::-webkit-slider-thumb {
  transform: scale(1.2);
}

/* ===================== */
/* ‚úíÔ∏è TOOLTIP DOS PIV√îS */
/* ===================== */
.leaflet-tooltip.tooltip-sinal {
  background-color: rgba(0, 0, 0, 0.9);
  color: white;
  border-radius: 8px;
  padding: 6px 10px;
  border: none;
  font-size: 12px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
  opacity: 0;
  transform: scale(1);
  transition: opacity 0.3s ease;
  text-align: center;
}

.leaflet-tooltip.tooltip-sinal.leaflet-tooltip-visible {
  opacity: 1;
}


.leaflet-tooltip.tooltip-sinal::before {
  display: none;
}

.leaflet-tooltip.tooltip-sinal.leaflet-tooltip-visible {
  opacity: 1;
  transform: scale(1);
}

.linha-gradiente {
    stroke-width: 4;
    stroke-linecap: round;
}

/* ===================== */
/* Pin de Edit */
/* ===================== */

.pivo-edit-handle-custom-pin {
    filter: drop-shadow(0 0 3px red);
    cursor: grab;
}
.pivo-edit-handle-custom-pin:active {
    cursor: grabbing;
}


/* ===================== */
/* üî• Seta no mapa üëÜ M√£ozinha nos bot√µes */
/* ===================== */


#map, .leaflet-interactive {
  cursor: default !important;
}


button, .glass-button, label[for="arquivo"] {
  cursor: pointer !important;
}

/* ===================== */
/* Estilo das Repetidoras AI */
/* ===================== */

/* Estilo para o wrapper do √≠cone do candidato, permitindo posicionamento relativo do X */
.candidate-icon-wrapper {
    position: relative; /* Necess√°rio para o posicionamento absoluto do 'X' */
    display: inline-block; /* Para que o padding/background se ajuste ao conte√∫do */
    text-align: center; 
    color: #03A9F4; /* Cor do texto principal do √≠cone (‚õ∞Ô∏è Elev, LoS, Dist) */
    font-weight: bold; 
    font-size: 10px; /* Reduzido um pouco para caber mais informa√ß√£o */
    white-space: nowrap; 
    padding: 3px 6px; 
    background-color: rgba(6, 11, 16, 0.75); /* Fundo um pouco mais opaco */
    border: 1px solid rgba(255, 255, 255, 0.25); 
    border-radius: 5px; 
    box-shadow: 0 1px 4px rgba(0,0,0,0.4);
    /* transform: translate(-50%, 5px);  Removido daqui, pois o iconAnchor cuidar√° do posicionamento geral */
}

/* Estilo para o bot√£o 'X' de remover */
.candidate-remove-btn {
    position: absolute;
    top: -8px;       /* Ajuste para posicionar o 'X' fora do canto */
    right: -8px;     /* Ajuste para posicionar o 'X' fora do canto */
    width: 18px;
    height: 18px;
    line-height: 18px; /* Centraliza o 'X' verticalmente */
    text-align: center;
    font-size: 14px;  /* Tamanho do 'X' */
    font-weight: bold;
    color: white;
    background-color: #E53E3E; /* Vermelho para o 'X' */
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 50%; /* C√≠rculo */
    cursor: pointer;
    z-index: 10; /* Para garantir que fique sobre o √≠cone principal */
    box-shadow: 0 0 5px rgba(0,0,0,0.5);
}

.candidate-remove-btn:hover {
    background-color: #FC8181; /* Vermelho mais claro no hover */
}

/* Ajuste na classe do L.divIcon para n√£o ter padding/transform pr√≥prio,
   pois o wrapper interno (.candidate-icon-wrapper) j√° cuida disso. */
.custom-div-icon-ponto-alto {
    /* O Leaflet pode adicionar padding/border. Se necess√°rio, resetar: */
    /* padding: 0 !important; */
    /* border: none !important; */
    /* background: transparent !important; */
    /* box-shadow: none !important; */
    /* O transform: translate(-50%, 5px) foi removido do HTML e o iconAnchor ajustado */
}

/* Garante que o cursor seja de ponteiro sobre os √≠cones dos candidatos */
.leaflet-marker-icon.custom-div-icon-ponto-alto {
    cursor: pointer;
}


/* ============================ */
/* üß† FIM DO CSS DO FUTURO üß† */
/* ============================ */